<html>
<!DOCTYPE html>
<head>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>
<body>
  <script src="/primus.js" type="text/javascript" charset="utf-8"></script>
  <script src="/client.js" type="text/javascript" charset="utf-8"></script>
  
  <div id="notifications">
    <h3>Notifications</h3>
  </div>
  
  <div id="announcements">
    <h3>Announcements</h3>
  </div>
  
  <script type="text/javascript" charset="utf-8">
    var project = 'testing';
    var userId = null;
    var authToken = null;
    
    var client = new SugarClient(userId, authToken);
    client.subscribeTo('zooniverse');
    client.subscribeTo('project:' + project);
    client.connect();
    
    client.on('notification', function(notification) {
      $('#notifications').append('<div><pre>' + JSON.stringify(notification) + '</pre></div>');
    });
    
    client.on('announcement', function(announcement) {
      $('#announcements').append('<div><pre>' + JSON.stringify(announcement) + '</pre></div>');
    });
  </script>
</body>
</html>
